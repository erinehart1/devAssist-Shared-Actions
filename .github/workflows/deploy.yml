# === .github/workflows/deploy.yml ===
# TEMP TEST WORKFLOW â€” Just prints a secret from consumer repo to validate
name: Debug Secret Injection

on:
  workflow_call:
    secrets:
      SF_JWT_KEY:
        required: true

jobs:
  test:
    name: Secret Echo
    runs-on: ubuntu-latest

    steps:
      - name: Print first few characters of JWT key
        run: |
          echo "First 5 lines of secret:"
          echo "$SF_JWT_KEY" | head -n 5
          echo "Last line of secret:"
          echo "$SF_JWT_KEY" | tail -n 1
        env:
          SF_JWT_KEY: ${{ secrets.SF_JWT_KEY }}

# All other logic temporarily removed for clarity while testing
